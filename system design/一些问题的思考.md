一些问题的思考

为什么选择MySQL？
- 成熟、稳定。
- 社区活跃，使用的人比较多，会的人也比较多，比较容易招到对口的人。
为什么选择Redis？
- 提供丰富的数据结构（结合项目说下你的项目中使用的）
- 提供多种选择进行备份和持久化（结合项目）
- 如果存储主机发生故障，也只是备份周期内的数据丢失，虽然不完全可靠，但是简单，避免了复杂的持久化及复制，这样的架构简单且便宜。
- 稳定，很少出故障，有问题，社区比较活跃，只要学习就能解决（有没有遇到Redis 问题？怎么解决的？）。

集群 - 所有操作都自动完成（例如MongoDB集群）
特点：数据自动分布，节点间需要转移数据，需要平衡分配，节点间的相互通信，需要做很多措施用于防止干扰、无效传递及协商。
优点：
- 自动扩展你的数据存储
- 便于安装
- 高有效性
- 负载均衡
- 不存在单点故障
缺点：
- 复杂，缺少社区支持
- 缺少领域内资深工程师
- 集群管理器非常复杂，如果有问题，可能会造成单个或者多个节点数据存在问题。
	-  数据平衡失控
	- 跨节点的数据损坏
	- 数据所有权问题，主次节点转换时的数据丢失。
分片 - 所有事情都是手动的
特点
- 分片可以让你摆脱集群方案中所有不想要的特性。
- 数据需要手动的分配。
- 数据不会移动。Pinterest永远都不会在节点间移动，尽管有些人这么做，这让他们在一定范围内站的更高。
- 通过分割数据的方式分配负载。
- 节点并没有互相通信，使用一些主节点控制程序的运行。

优点
- 可以分割你的数据库以提高性能。
- 空间分布及放置数据
- 高有效性
- 负载平衡
- 放置数据的算法非常简单。主要原因是，用于处理单点故障的代码只有区区的半页，而不是一个复杂的集群管理器。并且经过短暂的测试就知道它是否能够正常工作。
- ID生成非常简单
缺点
- 不可以执行大多数的join。
- 失去所有事务的能力。在一个数据库上的插入可能会成功，而在另一个上会失败。
- 许多约束必须放到应用程序层。
- 报告需要在所有分片上执行查询，然后需要手动的进行聚合。
- Join在应用程序层执行。
- 应用程序必须容忍以上所有问题。
什么时候适合分片？


你从项目中学到了什么？
-结构尽可能的简单，因为简单意味着未来更容易扩展。
- 复杂的系统会让工作变得无趣，所以为了让工作有趣，需要让系统架构足够简单。
- 在节点间传输的数据越少，你的架构越稳定。这也是他们弃集群而选择分片的原因。
- 一个面向服务的架构规则。拆分功能，可以帮助减少连接、组织团队、组织支持以及提升安全性。
- 搞明白自己究竟需要什么。为了匹配愿景，不要怕丢弃某些技术，甚至是整个系统的重构。
- 不要害怕丢失一点数据。将用户数据放入内存，定期的进行持久化。失去的只是几个小时的数据，但是换来的却是更简单、更强健的系统！


