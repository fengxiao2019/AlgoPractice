例子：Facebook Messenger
难点：A -\> server -\>B
消息的可靠性（不丢消息）？
数据如何在设备间同步？
如何保序？
接收端如何高效的获取消息？
pull 模型 + push模型？
如何管理用户的状态？
数据如何分区？
如果需要做回执，怎么处理？
怎么知道哪个连接连到了哪个用户？

