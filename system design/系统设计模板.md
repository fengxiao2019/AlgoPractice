# 系统设计模板
## 功能需求
- Use Cases
- 不包括的情况
- 谁会使用
- 有多少人将使用
- 使用模式
## 非功能需求
- 吞吐量（读和写查询的QPS）
- 系统的预期延迟（对于度和写查询）
- 读/写比率
- 流量估计
	- 写（QPS，数据量）
	- 读取(QPS, 数据量)
 -  存储估计
- 内存估算
	 - 如果我们使用缓存，我们想在缓存中存储什么样的数据？
	- 我们需要多少内存和多少机器来实现这个目标？
	- 你想存储在磁盘/SSD中的数据量
## 设计目标
- 延迟和吞吐量要求
- 一致性与可用性[弱/强/最终=\>一致性|故障转移/复制=\>可用性]()
## 高层设计（5-10分钟）
- 服务划分
- 关键组件的读/写场景的APIs
- 数据库Schema
- 基本算法
- 读/写场景的高层设计
## 深入分析
- 可扩展相关的算法（Scaling the algorithm）
- 组件的可扩展性
	- 每个组件的可用性、一致性和可扩展性
	- 一致性、可用性
	- 考虑以下组件，考虑这些组件的适用性
		- DNS
		- CDN(Push vs Pull)
		- Load Balancers(Active-Passive, Active-Active, Layer 4, Layer 7)
		- Reverse Proxy
		- Application layer scaling [Microservices, Service Discovery]()
		- DB [RDBMS, NoSQL]()
			- RDBMS
				- Master-slave, Master-master, Federation, Sharding, Denormalization, SQL Tuning
			- NoSQL
				- Key-Value, Wide-Column, Graph, Document
				> >  Fast-lookups:
				> > RAM  [Bounded size]() =\> Redis, Memcached
				> > AP [Unbounded size]() =\> Cassandra, RIAK, Voldemort
				> > CP [Unbounded size]() =\> HBase, MongoDB, Couchbase, DynamoDB
			- Caches
				- Client 缓存, CDN缓存, Webserver缓存, Database缓存, Application缓存, Cache @Query level, Cache @Object level
				- 驱逐策略:
					- Cache aside
					- Write through
					- Write behind
					- Refresh ahead
				- 异步
					- 消息队列
					- 任务队列
					- Back pressure
				- 通信
					- TCP
					- UDP
					- REST
					- RPC 
## 来源
[https://leetcode.com/discuss/career/229177/my-system-design-template][7]

[7]:	https://leetcode.com/discuss/career/229177/my-system-design-template